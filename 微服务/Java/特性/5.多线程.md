# 一、线程简介

线程又被称为轻量级进程，每个线程都有自己的局部变量表、程序计数器、各自生命周期。

## 1.线程生命周期

![image-20220627234041626](https://cdn.jsdelivr.net/gh/JarvisTH/picbed/img/image-20220627234041626.png)

### 1）NEW状态

new创建线程时，并不是出于执行状态，因为没有调用start启动线程，那么线程处于NEW状态，也可以理解为一个普通的java对象。

### 2）RUNNABLE状态

进入RUNNABLE状态必须调用start方法，线程启动后不一定处于执行状态，这个状态成为可执行状态，具备执行资格，但是没有被CPU调用。严格来讲，RUNNABLE线程只能进入执行状态或者终止状态。

### 3）RUNNING状态

CPU调用线程执行代码。RUNNING状态可以发生的状态转换：

- TERMINATED
- BLOCKED状态：sleep、wait
- 进入了阻塞IO操作
- 获取某个锁资源，进入锁的阻塞队列中从而BLOCKED
- CPU调度器暂时放弃执行线程，进入RUNNABLE
- 线程主动调用yield方法。放弃CPU执行权，进入RUNNABLE

### 4）BLOCKED状态

BLOCKED状态转换：

- TERMINATED：JVM crash 或者线程stop
- 线程阻塞操作结束，比如读取到想要的数据进入RUNNABLE
- 线程完成指定时间休眠，进入RUNNABLE
- wait中的线程被其他线程唤醒，进入RUNNABLE
- 线程在阻塞过程中被打断

### 5）TERMINATED状态

- 线程运行结束
- 线程运行意外出错

